<button
  [class]="buttonClasses()"
  [disabled]="!canUse()"
  (click)="handleClick($event)"
  (mouseenter)="handleHover()"
  type="button">

  <!-- Item Display (delegated to item-mini) -->
  <div class="item-display-wrapper">
    <app-item-mini [item]="item()"></app-item-mini>
  </div>

  <!-- Tooltip -->
  @if (showTooltip() || true) {
    <div class="item-tooltip">
      <div class="tooltip-header">
        <div class="tooltip-name">{{ item().definition.name }}</div>
        @if (item().definition.category) {
          <div class="tooltip-type">{{ item().definition.category }}</div>
        }
      </div>

      <div class="tooltip-description">
        {{ item().definition.description }}
      </div>

      @if (effectText().length > 0) {
        <div class="tooltip-effects">
          @for (effect of effectText(); track effect) {
            <div class="tooltip-effect">
              <span class="effect-icon">âœ“</span>
              <span class="effect-text">{{ effect }}</span>
            </div>
          }
        </div>
      }

      <!-- Disabled reason -->
      @if (!canUse() && disabledReasonText()) {
        <div class="tooltip-disabled-reason">
          {{ disabledReasonText() }}
        </div>
      }
    </div>
  }
</button>
